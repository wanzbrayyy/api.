<!DOCTYPE html>
<html lang="en">
<%- include('../partials/head') %>
<body>
    <%- include('../partials/navbar', { user: user }) %>
    <div class="main-wrapper container animate__animated animate__fadeIn">
        <div class="glass-panel" style="max-width: 500px; margin: 0 auto; padding: 30px;">
            <h2 style="text-align: center; color: #3b82f6;"><i class="fa-solid fa-mobile-screen-button"></i> ML Stalk</h2>
            
            <div style="display: flex; gap: 10px;">
                <input type="text" id="id" class="input-modern" placeholder="User ID" style="flex: 2;">
                <input type="text" id="zone" class="input-modern" placeholder="Zone ID" style="flex: 1;">
            </div>
            <button onclick="stalkML()" class="btn-modern" style="width: 100%; margin-top: 10px; background: #3b82f6;">Check</button>

            <div id="result" style="margin-top: 20px; display: none; text-align: center;">
                <h3>Result: <span id="resNick" style="color: #3b82f6;"></span></h3>
            </div>
        </div>
    </div>
    <script>
        async function stalkML() {
            const id = document.getElementById('id').value;
            const zone = document.getElementById('zone').value;
            
            const req = await fetch('/api/tools/ml', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({ id, zone })
            });
            const res = await req.json();
            if(res.status) {
                document.getElementById('result').style.display = 'block';
                document.getElementById('resNick').innerText = res.data.userName;
            } else { alert("Not Found"); }
        }
    </script>
</body>
</html>